<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Inscription | Color Run</title>
    <style>
        .debug-info {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 20px;
            font-family: monospace;
        }
        .error-message {
            color: red;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>Inscription</h1>
    
    <div th:if="${error}" class="error-message" th:text="${error}"></div>
    
    <form method="post" action="/api/register">
        <div>
            <label for="nom">Nom:</label>
            <input type="text" id="nom" name="nom" required>
        </div>
        <div>
            <label for="prenom">Prénom:</label>
            <input type="text" id="prenom" name="prenom" required>
        </div>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div>
            <label for="motDePasse">Mot de passe:</label>
            <input type="password" id="motDePasse" name="motDePasse" required>
        </div>
        <div>
            <label for="confirmMotDePasse">Confirmer le mot de passe:</label>
            <input type="password" id="confirmMotDePasse" name="confirmMotDePasse" required>
        </div>
        <div>
            <button type="submit">S'inscrire</button>
        </div>
    </form>
    
    <!-- Section de debug (visible uniquement en développement) -->
    <div th:if="${debugMode}" class="debug-info">
        <h3>Informations de débogage</h3>
        <p>Session ID: <span th:text="${#session.id}"></span></p>
        <p>Paramètres de la requête:</p>
        <ul>
            <li th:each="param : ${param}" th:text="${param.key} + '=' + ${param.value}"></li>
        </ul>
    </div>
</body>
</html>
